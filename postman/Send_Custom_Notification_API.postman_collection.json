{
	"info": {
		"_postman_id": "custom-notification-api-001",
		"name": "Send Custom Notification API",
		"description": "API endpoint to send push notifications to specific users with specific types",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Send Custom Notification",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"user_id\": 1,\n    \"type\": \"new_order\",\n    \"title\": \"üõçÔ∏è ŸàÿµŸàŸÑ ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ #123! üöÄüéâ\",\n    \"body\": \"üì± ÿßÿØÿÆŸÑ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸÑŸÇÿ®ŸàŸÑ ÿßŸÑÿ∑ŸÑÿ® #123..\",\n    \"data\": {\n        \"order_id\": 123,\n        \"status\": \"pending\",\n        \"delivery_type\": \"delivery\"\n    },\n    \"sound\": \"custom_sound1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"rest",
						"notifications",
						"send-custom"
					]
				},
				"description": "Sends a push notification to a specific user with a specific notification type.\n\n**Request Parameters:**\n- `user_id` (required, integer): The ID of the user to send the notification to\n- `type` (required, string): The notification type. Valid types:\n  - new_order\n  - new_parcel_order\n  - new_user_by_referral\n  - status_changed\n  - order_refunded\n  - wallet_top_up\n  - wallet_withdraw\n  - new_in_table\n  - booking_status\n  - new_booking\n  - news_publish\n  - add_cashback\n  - shop_approved\n  - call_waiter\n  - out_of_stock\n- `title` (required, string, max 255): Notification title\n- `body` (required, string, max 1000): Notification message body\n- `data` (optional, object): Additional data to include in the notification\n- `sound` (optional, string): Notification sound. Options: 'default' or 'custom_sound1'"
			},
			"response": [
				{
					"name": "Success - New Order Notification to Merchant",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 1,\n    \"type\": \"new_order\",\n    \"title\": \"üõçÔ∏è ŸàÿµŸàŸÑ ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ #123! üöÄüéâ\",\n    \"body\": \"üì± ÿßÿØÿÆŸÑ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸÑŸÇÿ®ŸàŸÑ ÿßŸÑÿ∑ŸÑÿ® #123..\",\n    \"data\": {\n        \"order_id\": 123,\n        \"status\": \"pending\",\n        \"delivery_type\": \"delivery\"\n    },\n    \"sound\": \"custom_sound1\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"rest",
								"notifications",
								"send-custom"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": true,\n    \"code\": \"SUCCESS\",\n    \"message\": \"Success\",\n    \"data\": {\n        \"id\": 1,\n        \"type\": \"new_order\",\n        \"title\": \"üõçÔ∏è ŸàÿµŸàŸÑ ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ #123! üöÄüéâ\",\n        \"body\": \"üì± ÿßÿØÿÆŸÑ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸÑŸÇÿ®ŸàŸÑ ÿßŸÑÿ∑ŸÑÿ® #123..\",\n        \"data\": {\n            \"order_id\": 123,\n            \"status\": \"pending\",\n            \"delivery_type\": \"delivery\",\n            \"type\": \"new_order\"\n        },\n        \"user_id\": 1,\n        \"read_at\": null,\n        \"created_at\": \"2025-12-21T10:30:00.000000Z\",\n        \"updated_at\": \"2025-12-21T10:30:00.000000Z\",\n        \"user\": {\n            \"id\": 1,\n            \"firstname\": \"John\",\n            \"lastname\": \"Doe\",\n            \"email\": \"merchant@example.com\"\n        }\n    }\n}"
				},
				{
					"name": "Success - Booking Notification to Customer",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 5,\n    \"type\": \"booking_status\",\n    \"title\": \"Booking Confirmed\",\n    \"body\": \"Your booking has been confirmed!\",\n    \"data\": {\n        \"booking_id\": 456,\n        \"status\": \"confirmed\",\n        \"date\": \"2025-12-25\"\n    },\n    \"sound\": \"default\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"rest",
								"notifications",
								"send-custom"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": true,\n    \"code\": \"SUCCESS\",\n    \"message\": \"Success\",\n    \"data\": {\n        \"id\": 2,\n        \"type\": \"booking_status\",\n        \"title\": \"Booking Confirmed\",\n        \"body\": \"Your booking has been confirmed!\",\n        \"data\": {\n            \"booking_id\": 456,\n            \"status\": \"confirmed\",\n            \"date\": \"2025-12-25\",\n            \"type\": \"booking_status\"\n        },\n        \"user_id\": 5,\n        \"read_at\": null,\n        \"created_at\": \"2025-12-21T10:35:00.000000Z\",\n        \"updated_at\": \"2025-12-21T10:35:00.000000Z\",\n        \"user\": {\n            \"id\": 5,\n            \"firstname\": \"Jane\",\n            \"lastname\": \"Smith\",\n            \"email\": \"customer@example.com\"\n        }\n    }\n}"
				},
				{
					"name": "Error - User Not Found",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 99999,\n    \"type\": \"new_order\",\n    \"title\": \"Test Notification\",\n    \"body\": \"This is a test\",\n    \"sound\": \"default\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"rest",
								"notifications",
								"send-custom"
							]
						}
					},
					"status": "Not Found",
					"code": 404,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": false,\n    \"code\": \"ERROR_404\",\n    \"message\": \"Error 404\"\n}"
				},
				{
					"name": "Error - Validation Failed",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": \"invalid\",\n    \"type\": \"invalid_type\",\n    \"title\": \"\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"rest",
								"notifications",
								"send-custom"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"The given data was invalid.\",\n    \"errors\": {\n        \"user_id\": [\n            \"The user id must be an integer.\"\n        ],\n        \"type\": [\n            \"The selected type is invalid.\"\n        ],\n        \"title\": [\n            \"The title field is required.\"\n        ],\n        \"body\": [\n            \"The body field is required.\"\n        ]\n    }\n}"
				}
			]
		},
		{
			"name": "Send New Order Notification (Example)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"user_id\": 1,\n    \"type\": \"new_order\",\n    \"title\": \"üõçÔ∏è ŸàÿµŸàŸÑ ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ #{{order_id}}! üöÄüéâ\",\n    \"body\": \"üì± ÿßÿØÿÆŸÑ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸÑŸÇÿ®ŸàŸÑ ÿßŸÑÿ∑ŸÑÿ® #{{order_id}}..\",\n    \"data\": {\n        \"order_id\": 123,\n        \"status\": \"pending\",\n        \"delivery_type\": \"delivery\"\n    },\n    \"sound\": \"custom_sound1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"rest",
						"notifications",
						"send-custom"
					]
				},
				"description": "Example: Send a new order notification to a merchant. Uses custom_sound1 and firebase_tajer_token."
			},
			"response": []
		},
		{
			"name": "Send Parcel Order Notification (Example)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"user_id\": 2,\n    \"type\": \"new_parcel_order\",\n    \"title\": \"New Parcel Order\",\n    \"body\": \"You have received a new parcel order!\",\n    \"data\": {\n        \"parcel_order_id\": 789,\n        \"status\": \"pending\"\n    },\n    \"sound\": \"custom_sound1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"rest",
						"notifications",
						"send-custom"
					]
				},
				"description": "Example: Send a new parcel order notification to a merchant. Uses custom_sound1 and firebase_tajer_token."
			},
			"response": []
		},
		{
			"name": "Send Status Changed Notification (Example)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"user_id\": 3,\n    \"type\": \"status_changed\",\n    \"title\": \"Order Status Updated\",\n    \"body\": \"Your order status has been updated to 'delivered'\",\n    \"data\": {\n        \"order_id\": 456,\n        \"old_status\": \"on_the_way\",\n        \"new_status\": \"delivered\"\n    },\n    \"sound\": \"default\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"rest",
						"notifications",
						"send-custom"
					]
				},
				"description": "Example: Send status changed notification to a customer. Uses default sound and firebase_customer_token."
			},
			"response": []
		},
		{
			"name": "Send Wallet Top Up Notification (Example)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"user_id\": 4,\n    \"type\": \"wallet_top_up\",\n    \"title\": \"Wallet Recharged\",\n    \"body\": \"Your wallet has been credited with $50\",\n    \"data\": {\n        \"amount\": 50,\n        \"currency\": \"USD\",\n        \"new_balance\": 150\n    },\n    \"sound\": \"default\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/api/v1/rest/notifications/send-custom",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"rest",
						"notifications",
						"send-custom"
					]
				},
				"description": "Example: Send wallet top up notification to a customer. Uses default sound and firebase_customer_token."
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "order_id",
			"value": "123",
			"type": "string"
		}
	]
}
